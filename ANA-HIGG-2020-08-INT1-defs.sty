% Red filled boxes for missing refs
\makeatletter
\def\@setref#1#2#3{%
  \ifx#1\relax
   \protect\G@refundefinedtrue
   \nfss@text{\reset@font\colorbox{red}{\texttt{\scriptsize\textbf{\detokenize{#3}}}}}%
   \@latex@warning{Reference `#3' on page \thepage \space is undefined}%
  \else
   \hyperref[#3]{\expandafter#2#1}\null
  \fi}
\makeatother


% production modesA
\newcommand*{\ggH}{\ensuremath{\mathrm{ggF}}\xspace}
\newcommand*{\ggF}{\ensuremath{\mathrm{ggF}}\xspace}
\newcommand*{\VBF}{\ensuremath{\mathrm{VBF}}\xspace}
\newcommand*{\VH}{\ensuremath{\mathrm{VH}}\xspace}
\newcommand*{\ZH}{\ensuremath{\mathrm{ZH}}\xspace}
\newcommand*{\ggZH}{\ensuremath{\mathrm{ggZH}}\xspace}
\newcommand*{\WH}{\ensuremath{\mathrm{WH}}\xspace}
\newcommand*{\ttH}{\ensuremath{\mathrm{t\bar{t}H}}\xspace}
\newcommand*{\bbH}{\ensuremath{\mathrm{b\bar{b}H}}\xspace}
\newcommand*{\tH}{\ensuremath{\mathrm{tH}}\xspace}
\newcommand*{\tHq}{\ensuremath{\mathrm{tHq}}\xspace}
\newcommand*{\tHbj}{\ensuremath{\mathrm{tHbj}}\xspace}
\newcommand*{\tHW}{\ensuremath{\mathrm{tHW}}\xspace}

% processes
\newcommand*{\Hyy}{\ensuremath{H\to\gamma\gamma}\xspace}
\newcommand*{\myy}{\ensuremath{m_{\gamma\gamma}}\xspace}
\newcommand*{\yy}{\ensuremath{\gamma\gamma}\xspace}
\newcommand*{\yjet}{\ensuremath{\gamma j}\xspace}
\newcommand*{\jetjet}{\ensuremath{jj}\xspace}
\newcommand*{\Vyy}{\ensuremath{V\gamma\gamma}\xspace}
\newcommand*{\ttyy}{\ensuremath{t\bar{t}\gamma\gamma}\xspace}

% variables
\newcommand*{\ETiso}{\ensuremath{E_\mathrm{T}^\mathrm{iso}}\xspace}
\newcommand*{\pTiso}{\ensuremath{p_\mathrm{T}^\mathrm{iso}}\xspace}
\newcommand*{\ptH}{\ensuremath{p_\mathrm{T}^\mathrm{H}}\xspace}
\newcommand*{\ptV}{\ensuremath{p_\mathrm{T}^\mathrm{V}}\xspace}
\newcommand*{\ETmiss}{\ensuremath{E_\mathrm{T}^\mathrm{miss}}\xspace}
%\newcommand*{\pTj}{\ensuremath{p_\mathrm{T}^\mathrm{j}}\xspace}
\newcommand{\pTj}[1]{\ensuremath{p_{\mathrm{T,jet#1}}}}
\newcommand*{\yH}{\ensuremath{\left|y_\mathrm{H}\right|}\xspace}
\newcommand*{\Njets}{\ensuremath{N_\text{jets}}\xspace}
\newcommand*{\Nbjets}{\ensuremath{N_{\bjets}}\xspace}
\newcommand{\mjj}{\ensuremath{m_{jj}}}
\newcommand{\ptHjj}{\ensuremath{p_{\mathrm{T}}^{Hjj}}}
\newcommand{\Detajj}{\ensuremath{\Delta\eta_{jj}}}
\newcommand{\pTV}{\ensuremath{p_{\mathrm{T}}^{V}}}

\let\pTHjj\ptHjj
\let\Njet\Njets
\let\njet\Njet
\let\njets\njet
% MC stuff
\newcommand*{\NNLL}{\ensuremath{\text{NNLL}}\xspace}
\newcommand*{\NNNLO}{\ensuremath{\text{N$^3$LO}}\xspace}
\newcommand*{\CTten}{\textsc{CT10}\xspace}
\newcommand*{\PDFLHC}{\textsc{PDF4LHC15}\xspace}
\newcommand*{\NNPDF}{\textsc{NNPDF3.0}\xspace}
\newcommand*{\NNLOPS}{\textsc{Powheg~NNLOPS}\xspace}
% for results 
\newcommand*{\theo}{\mbox{\(\;\)(theo.)}\xspace}
\newcommand*{\exsp}{\mbox{\(\;\)(exp.)}\xspace}
\newcommand{\asym}[3]{\ensuremath{{#1}~^{+#2}_{-#3}}}
\newcommand{\err}[1]{\small\ensuremath{\pm #1}}
\newcommand*{\tot}{\mbox{\(\;\)(total)}\xspace}
% truth bin in global categorization
\def\tbnames{{GG2H_0J_PTH_0_10},{GG2H_0J_PTH_GT10},{GG2H_1J_PTH_0_60},{GG2H_1J_PTH_60_120},{GG2H_1J_PTH_120_200},{GG2H_GE2J_MJJ_0_350_PTH_0_60},{GG2H_GE2J_MJJ_0_350_PTH_60_120},{GG2H_GE2J_MJJ_0_350_PTH_120_200},{GG2H_GE2J_MJJ_350_700_PTH_0_200_PTHJJ_0_25},{GG2H_GE2J_MJJ_350_700_PTH_0_200_PTHJJ_GT25},{GG2H_GE2J_MJJ_GT700_PTH_0_200_PTHJJ_0_25},{GG2H_GE2J_MJJ_GT700_PTH_0_200_PTHJJ_GT25},{GG2H_PTH_200_300},{GG2H_PTH_300_450},{GG2H_PTH_450_650},{GG2H_PTH_GT650},{QQ2HQQ_0J},{QQ2HQQ_1J},{QQ2HQQ_GE2J_MJJ_0_60},{QQ2HQQ_GE2J_MJJ_60_120},{QQ2HQQ_GE2J_MJJ_120_350},{QQ2HQQ_GE2J_MJJ_350_700_PTH_0_200_PTHJJ_0_25},{QQ2HQQ_GE2J_MJJ_350_700_PTH_0_200_PTHJJ_GT25},{QQ2HQQ_GE2J_MJJ_GT700_PTH_0_200_PTHJJ_0_25},{QQ2HQQ_GE2J_MJJ_GT700_PTH_0_200_PTHJJ_GT25},{QQ2HQQ_GE2J_MJJ_350_700_PTH_GT200},{QQ2HQQ_GE2J_MJJ_GT700_PTH_GT200},{QQ2HLNU_PTV_0_75},{QQ2HLNU_PTV_75_150},{QQ2HLNU_PTV_150_250_0J},{QQ2HLNU_PTV_150_250_GE1J},{QQ2HLNU_PTV_GT250},{HLL_PTV_0_75},{HLL_PTV_75_150},{HLL_PTV_150_250_0J},{HLL_PTV_150_250_GE1J},{HLL_PTV_GT250},{TTH_PTH_0_60},{TTH_PTH_60_120},{TTH_PTH_120_200},{TTH_PTH_200_300},{TTH_PTH_GT300},{THJB},{TWH}}

% EFT interpretation
\newcommand{\cG}{\ensuremath{c_{G}}\xspace}
\newcommand{\cGtil}{\ensuremath{c_{Gtil}}\xspace}
\newcommand{\cW}{\ensuremath{c_{W}}\xspace}
\newcommand{\cWtil}{\ensuremath{c_{Wtil}}\xspace}
\newcommand{\cH}{\ensuremath{c_{H}}\xspace}
\newcommand{\cHbox}{\ensuremath{c_{Hbox}}\xspace}
\newcommand{\cHDD}{\ensuremath{c_{HDD}}\xspace}
\newcommand{\cHG}{\ensuremath{c_{HG}}\xspace}
\newcommand{\cHGtil}{\ensuremath{c_{HGtil}}\xspace}
\newcommand{\cHW}{\ensuremath{c_{HW}}\xspace}
\newcommand{\cHWtil}{\ensuremath{c_{HWtil}}\xspace}
\newcommand{\cHB}{\ensuremath{c_{HB}}\xspace}
\newcommand{\cHBtil}{\ensuremath{c_{HBtil}}\xspace}
\newcommand{\cHWB}{\ensuremath{c_{HWB}}\xspace}
\newcommand{\cHWBtil}{\ensuremath{c_{HWBtil}}\xspace}
\newcommand{\ceHAbs}{\ensuremath{|c_{eH}|}\xspace}
\newcommand{\cuHAbs}{\ensuremath{|c_{uH}|}\xspace}
\newcommand{\cdHAbs}{\ensuremath{|c_{dH}|}\xspace}
\newcommand{\ceWAbs}{\ensuremath{|c_{eW}|}\xspace}
\newcommand{\ceBAbs}{\ensuremath{|c_{eB}|}\xspace}
\newcommand{\cuGAbs}{\ensuremath{|c_{uG}|}\xspace}
\newcommand{\cuWAbs}{\ensuremath{|c_{uW}|}\xspace}
\newcommand{\cuBAbs}{\ensuremath{|c_{uB}|}\xspace}
\newcommand{\cdGAbs}{\ensuremath{|c_{dG}|}\xspace}
\newcommand{\cdWAbs}{\ensuremath{|c_{dW}|}\xspace}
\newcommand{\cdBAbs}{\ensuremath{|c_{dB}|}\xspace}
\newcommand{\cHl}[1]{\ensuremath{c_{Hl#1}}\xspace}
\newcommand{\cHe}{\ensuremath{c_{He}}\xspace}
\newcommand{\cHq}[1]{\ensuremath{c_{Hq#1}}\xspace}
\newcommand{\cHu}{\ensuremath{c_{Hu}}\xspace}
\newcommand{\cHd}{\ensuremath{c_{Hd}}\xspace}
\newcommand{\cHudAbs}{\ensuremath{|c_{Hud}|}\xspace}
%\newcommand{\cll}{\ensuremath{c_{ll}}\xspace}
\newcommand{\cll}[1]{\ensuremath{c_{ll#1}}\xspace}
\newcommand{\cqq}[1]{\ensuremath{c_{qq#1}}\xspace}
\newcommand{\clq}[1]{\ensuremath{c_{lq#1}}\xspace}
\newcommand{\cuu}[1]{\ensuremath{c_{uu#1}}\xspace}
\newcommand{\cud}[1]{\ensuremath{c_{ud#1}}\xspace}
\newcommand{\cqu}[1]{\ensuremath{c_{qu#1}}\xspace}
\newcommand{\cqd}[1]{\ensuremath{c_{qd#1}}\xspace}


\newcommand{\ps}{\ensuremath{\text{{ps}}}}
\newcommand{\ggtoH}{\ensuremath{gg \to H}}
\newcommand{\qqtoHqq}{\ensuremath{qq \to Hqq}}
\newcommand{\ggtoHll}{\ensuremath{gg \to H\ell\ell}}
\newcommand{\qqtoHll}{\ensuremath{qq \to H\ell\ell}}
\newcommand{\qqtoHln}{\ensuremath{qq \to H\ell\nu}}
\newcommand{\ggtoZH}{\ensuremath{gg \to ZH}}
\newcommand{\qqtoZH}{\ensuremath{qq \to ZH}}
\newcommand{\qqtoWH}{\ensuremath{qq \to WH}}
\newcommand{\qqtoVH}{\ensuremath{qq \to VH}}
\newcommand{\pptoZH}{\ensuremath{pp \to ZH}}
\newcommand{\qqptoqqpH}{\ensuremath{qq'\to qq'H}}
\newcommand{\qqptoWHZH}{\ensuremath{q\bar{q}'\to WH/ZH}}
\newcommand{\pptottH}{\ensuremath{pp \to \ttH}}
\newcommand{\pptobbH}{\ensuremath{pp \to \bbH}}
\newcommand{\VHlep}{\ensuremath{V\text{(lep)}H}}
\let\qqHqq\qqtoHqq
\let\ggHll\ggtoHll
\let\qqHll\qqtoHll


